/* =====================================================
   GENEL SIFIRLAMA
===================================================== */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* =====================================================
   SAYFA GENELİ
===================================================== */
body {
  background: #e6e6e6;
  font-family: Arial, Helvetica, sans-serif;

  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;

  overflow: hidden;
}

/* =====================================================
   DIŞ BEYAZ DİKDÖRTGEN (KİTAP ALANI)
===================================================== */
#wrapper {
  width: 900px;          /* çift sayfa alanı */
  height: 650px;
  background: #ffffff;

  box-shadow: 0 15px 40px rgba(0,0,0,0.3);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* =====================================================
   FLIPBOOK ANA ALANI
===================================================== */
#book {
  width: 100%;
  height: 100%;
  position: relative;

  perspective: 1800px;
  overflow: hidden;
}

/* =====================================================
   TEK SAYFA (SOL / SAĞ)
===================================================== */
.page {
  position: absolute;
  top: 0;

  width: 50%;
  height: 100%;

  background: #ffffff;
  overflow: hidden;
}

/* Sol ve sağ yerleşim */
.page.left  { left: 0; }
.page.right { left: 50%; }

/* =====================================================
   MEDYA KATMANLARI
===================================================== */

/* JPG arka plan */
.page .bg {
  position: absolute;
  inset: 0;

  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Video overlay (JPG üstünde oynar) */
.page .vid {
  position: absolute;
  inset: 0;

  width: 100%;
  height: 100%;
  object-fit: cover;

  display: none;
  background: #000;
}

/* Video olan sayfalar */
.page.video .bg {
  opacity: 0.55;          /* istersen 1 yap */
}

.page.video .vid {
  display: block;
}

/* =====================================================
   KAPAK MODU
   - Sol sayfa YARIM
   - Sağ taraf BOŞ BEYAZ
===================================================== */
#book.cover-mode .page.left {
  width: 50%;
  left: 0;
}

#book.cover-mode .page.right {
  display: none;          /* sağ sayfa yok ama alan boş */
}

/* =====================================================
   FLIP ANİMASYON KATI
===================================================== */
.flip-layer {
  position: absolute;
  top: 0;
  left: 50%;

  width: 50%;
  height: 100%;

  transform-origin: left center;
  transform-style: preserve-3d;
  pointer-events: none;
}

.flip-front,
.flip-back {
  position: absolute;
  inset: 0;

  backface-visibility: hidden;
  overflow: hidden;

  background: #ffffff;
}

.flip-back {
  transform: rotateY(180deg);
}

/* Flip içeriği */
.flip-front img,
.flip-back img,
.flip-front video,
.flip-back video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* =====================================================
   MOBİL / KÜÇÜK EKRAN
===================================================== */
@media (max-width: 820px) {

  #wrapper {
    width: 95vw;
    height: 70vh;
  }

  /* Mobilde tek sayfa */
  .page.right {
    display: none;
  }

  .page.left {
    width: 100%;
    left: 0;
  }

  .flip-layer {
    left: 0;
    width: 100%;
  }
}
